<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>$SAME – The OG SAME Coin | Solana Meme Token</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="$SAME – the original SAME coin on Solana. Our scanner helps CT find the OG token in a sea of copy-paste tickers and logos. The OG always wins."
  />

  <!-- Favicon (transparent logo) -->
  <link rel="icon" href="same-coin-logo.png" type="image/png" />

  <style>
    /* ========== RESET & BASE ========== */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --txt-strong: #f9fafb;
      --txt-main:   #e5e7eb;
      --txt-muted:  #9ca3af;

      --glass-main: rgba(15, 23, 42, 0.82);
      --glass-card: rgba(15, 23, 42, 0.94);
      --glass-border: rgba(148, 163, 184, 0.45);

      --accent-green: #22c55e;
      --accent-lime:  #a3e635;
      --accent-purple:#a855f7;
      --accent-cyan:  #22d3ee;
    }

    html, body {
      height: 100%;
      width: 100%;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                   "Segoe UI", sans-serif;
      color: var(--txt-strong);

      background-color: #020617;
      background-image: url("same-sky-bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;

      /* equal frame around the app */
      padding: 32px;
    }

    @media (max-width: 900px) {
      body {
        padding: 20px;
        background-attachment: scroll; /* smoother on mobile */
      }
    }

    a {
      color: #a5b4fc;
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }

    /* ========== WRAPPER & GLOBAL LAYOUT ========== */
    .shell {
      max-width: 1200px;
      margin: 0 auto;
    }

    .app {
      background:
        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.12), transparent 55%),
        radial-gradient(circle at 100% 100%, rgba(37,99,235,0.20), transparent 55%),
        var(--glass-main);
      border-radius: 32px;
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(28px) saturate(135%);
      box-shadow:
        0 36px 90px rgba(15, 23, 42, 0.92),
        0 0 0 1px rgba(15, 23, 42, 0.9);

      padding: 32px 32px 28px;
    }

    @media (max-width: 900px) {
      .app {
        padding: 24px 18px 22px;
        border-radius: 24px;
      }
    }

    .section {
      max-width: 960px;
      margin: 0 auto;
      padding-top: 32px;
      padding-bottom: 32px;
    }

    .section + .section {
      margin-top: 16px; /* band spacing */
    }

    .section > * + * {
      margin-top: 20px; /* internal rhythm */
    }

    .section-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--txt-muted);
      text-align: center;
    }

    .card {
      background:
        linear-gradient(145deg, rgba(15,23,42,0.96), rgba(15,23,42,0.88));
      border-radius: 22px;
      border: 1px solid rgba(30, 64, 175, 0.4);
      box-shadow:
        0 18px 40px rgba(15, 23, 42, 0.90),
        0 0 0 0.5px rgba(148, 163, 184, 0.5);
      padding: 18px 22px;
    }

    .label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--txt-muted);
      margin-bottom: 4px;
    }

    .mono {
      font-family: ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono",
                   "Courier New", monospace;
      word-break: break-all;
    }

    /* ========== BADGE STRIP ========== */
    .badge-row {
      max-width: 960px;
      margin: 0 auto 28px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--txt-muted);
    }

    .badge-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: center;
    }

    .badge {
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.55);
      background: rgba(15, 23, 42, 0.96);
      color: var(--txt-main);
    }

    @media (max-width: 640px) {
      .badge-row {
        flex-direction: column;
        align-items: flex-start;
      }
    }

    /* ========== HERO ========== */
    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.4fr);
      gap: 32px;
      align-items: center;
    }

    @media (max-width: 900px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
        row-gap: 24px;
      }
    }

    .hero-text {
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .hero-heading h1 {
      font-size: clamp(32px, 5vw, 44px);
      line-height: 1.1;
      font-weight: 700;
    }

    .hero-highlight {
      display: block;
      background: linear-gradient(90deg, #22c55e, #a855f7, #22d3ee);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-sub {
      font-size: 16px;
      color: var(--txt-main);
      max-width: 520px;
    }

    .hero-sub strong { color: var(--txt-strong); }

    .hero-pill {
      display: inline-block;
      padding: 7px 14px;
      border-radius: 999px;
      background: rgba(15, 118, 110, 0.25);
      border: 1px solid rgba(45, 212, 191, 0.7);
      color: #a5f3fc;
      font-size: 13px;
      max-width: max-content;
    }

    .cta-row {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
    }

    .btn {
      border-radius: 999px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      white-space: nowrap;
      transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, background 0.2s ease-out;
      text-decoration: none;
    }

    .btn-primary {
      background: linear-gradient(120deg, #22c55e, #a3e635);
      color: #052e16;
      box-shadow: 0 18px 40px rgba(34, 197, 94, 0.6);
    }
    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 22px 52px rgba(34, 197, 94, 0.7);
    }

    .btn-outline {
      background: rgba(15, 23, 42, 0.96);
      color: var(--txt-strong);
      border: 1px solid rgba(148, 163, 184, 0.6);
    }
    .btn-outline:hover {
      border-color: var(--accent-purple);
      box-shadow: 0 16px 36px rgba(15, 23, 42, 0.8);
      transform: translateY(-2px);
    }

    .status {
      font-size: 13px;
      color: var(--txt-muted);
      min-height: 18px;
    }

    .hero-art-wrap {
      display: flex;
      justify-content: center;
    }

    .hero-art {
      width: 100%;
      max-width: 420px;
      border-radius: 26px;
      box-shadow: 0 26px 60px rgba(0, 0, 0, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.4);
      object-fit: cover;
    }

    /* ========== STATS ========== */
    .stats-box {
      padding: 20px 22px;
      border-radius: 24px;
      background:
        linear-gradient(135deg, rgba(15,23,42,0.95), rgba(15,23,42,0.80)) border-box,
        linear-gradient(120deg, rgba(59,130,246,0.9), rgba(96,165,250,0.3)) border-box;
      border: 1px solid transparent;
      box-shadow:
        0 24px 60px rgba(15,23,42,0.95),
        0 0 0 0.5px rgba(255,255,255,0.12);
      backdrop-filter: blur(32px) saturate(150%);
    }

    .stats-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #bfdbfe;
      margin-bottom: 12px;
      text-align: center;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 18px;
    }

    .stat-label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--txt-muted);
      margin-bottom: 4px;
    }

    .stat-value {
      font-size: 16px;
      font-weight: 600;
      color: var(--txt-strong);
    }

    .stats-foot {
      margin-top: 10px;
      font-size: 12px;
      color: var(--txt-muted);
      text-align: center;
    }

    /* ========== MEME, VERIFY, SECURITY, HOW-TO ========== */
    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }

    .pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.96);
      font-size: 12px;
      color: var(--txt-main);
    }

    .verify-list,
    .info-list {
      font-size: 13px;
      color: var(--txt-muted);
      list-style: disc;
      padding-left: 20px;
    }

    .verify-list li + li,
    .info-list li + li {
      margin-top: 4px;
    }

    .security-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin-top: 10px;
    }

    .security-card {
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(55,65,81,0.9);
      font-size: 13px;
      color: var(--txt-main);
    }

    .step-list {
      font-size: 13px;
      color: var(--txt-main);
      list-style: decimal;
      padding-left: 20px;
      margin-top: 8px;
    }

    .step-list li + li { margin-top: 4px; }

    /* ========== SCANNER ========== */
    .scanner-header {
      text-align: center;
      margin-bottom: 14px;
    }

    .scanner-heading {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 6px;
    }

    .scanner-sub {
      font-size: 13px;
      color: var(--txt-muted);
    }

    .scanner-form-row {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      margin-bottom: 8px;
    }

    @media (max-width: 640px) {
      .scanner-form-row {
        flex-direction: column;
      }
    }

    .scanner-input {
      flex: 1;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.6);
      background: rgba(15,23,42,0.96);
      padding: 10px 14px;
      color: var(--txt-strong);
      font-size: 14px;
      outline: none;
    }

    .scanner-input::placeholder {
      color: var(--txt-muted);
    }

    .scanner-status {
      font-size: 12px;
      color: var(--txt-muted);
      min-height: 18px;
      text-align: center;
      margin-bottom: 6px;
    }

    .results-table-wrapper {
      margin-top: 8px;
      max-height: 260px;
      overflow: auto;
      border-radius: 14px;
      border: 1px solid rgba(55,65,81,0.9);
      background: rgba(15,23,42,0.98);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }

    th, td {
      padding: 8px 10px;
      border-bottom: 1px solid rgba(55,65,81,0.9);
      text-align: left;
    }

    th {
      background: rgba(15,23,42,0.98);
      color: var(--txt-muted);
      text-transform: uppercase;
      letter-spacing: 0.08em;
      font-size: 11px;
    }

    tr:nth-child(even) {
      background: rgba(148,163,184,0.06);
    }

    tr:last-child td { border-bottom: none; }

    .og-pill {
      display: inline-block;
      margin-left: 6px;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      background: rgba(34,197,94,0.15);
      border: 1px solid rgba(34,197,94,0.7);
      color: #bbf7d0;
    }

    /* ========== COMMUNITY ========== */
    .community-card {
      border-radius: 22px;
      padding: 18px 18px 16px;
      background: linear-gradient(135deg, rgba(59,130,246,0.3), rgba(168,85,247,0.3));
      border: 1px solid rgba(59,130,246,0.8);
      box-shadow: 0 20px 44px rgba(0,0,0,0.85);
      text-align: center;
    }

    .community-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-top: 12px;
    }

    .community-btn {
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(55,65,81,0.9);
      color: var(--txt-strong);
      padding: 8px 16px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 500;
      text-decoration: none;
    }

    footer {
      max-width: 960px;
      margin: 32px auto 0;
      font-size: 12px;
      color: var(--txt-muted);
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="shell">
    <div class="app">
      <!-- BADGE BAR -->
      <div class="badge-row">
        <div class="badge-group">
          <span class="badge">Solana</span>
          <span class="badge">$SAME • The OG SAME Coin</span>
        </div>
        <span>"The OG always wins."</span>
      </div>

      <!-- HERO -->
      <section class="section hero">
        <div class="hero-text">
          <div class="hero-heading">
            <h1>
              Same ticker. Same logo.
              <span class="hero-highlight">Not the same coin.</span>
            </h1>
          </div>

          <p class="hero-sub">
            <strong>$SAME</strong> is the original SAME coin on Solana.
            Our tech scans tickers, filters out dead copies, and points CT straight
            at the <strong>OG token</strong> – so you stop buying the wrong bag.
          </p>

          <div class="hero-pill">
            Built to help CT identify the real one when everyone is chasing the same ticker.
          </div>

          <div class="cta-row">
            <a
              class="btn btn-primary"
              href="https://pump.fun/4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5Cpump"
              target="_blank"
              rel="noopener noreferrer"
            >
              Trade $SAME on Pump.fun
            </a>

            <button class="btn btn-outline" id="walletButton">
              <span id="walletButtonLabel">Connect Wallet</span>
            </button>

            <a class="btn btn-outline" href="#scanner">
              Use SAME Scanner
            </a>
          </div>

          <div id="walletStatus" class="status">
            Optional: install Phantom / Solflare to connect your wallet.
          </div>
        </div>

        <div class="hero-art-wrap">
          <img src="same-hero-art.png" alt="$SAME hero art" class="hero-art" />
        </div>
      </section>

      <!-- TOKEN & STATS -->
      <section class="section">
        <div class="card">
          <div class="label">Token</div>
          <div class="mono">$SAME — Solana Token</div>

          <div class="label" style="margin-top:12px;">Contract address</div>
          <div class="mono" id="caText">4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C</div>
        </div>

        <div class="stats-box">
          <div class="stats-title">$SAME live stats (via DexScreener)</div>
          <div class="stats-grid">
            <div>
              <div class="stat-label">Price</div>
              <div class="stat-value" id="samePrice">Loading…</div>
            </div>
            <div>
              <div class="stat-label">Market cap (FDV)</div>
              <div class="stat-value" id="sameMc">Loading…</div>
            </div>
            <div>
              <div class="stat-label">Liquidity</div>
              <div class="stat-value" id="sameLiq">Loading…</div>
            </div>
            <div>
              <div class="stat-label">24h volume</div>
              <div class="stat-value" id="sameVol">Loading…</div>
            </div>
          </div>
          <div class="stats-foot" id="sameStatsFoot">
            Fetching live market data…
          </div>
        </div>
      </section>

      <!-- MEME / VERIFY / SECURITY / HOW TO BUY -->
      <section class="section">
        <div class="section-title">Meme energy</div>
        <div class="card" style="text-align:center;">
          <div class="pill-row">
            <div class="pill">"Ever been rugged? Same."</div>
            <div class="pill">"Buy the SAME coin."</div>
            <div class="pill">"Same ticker, wrong bag."</div>
            <div class="pill">"Same logo, different rug."</div>
            <div class="pill">"Copy-paste devs, original consequences."</div>
            <div class="pill">"There can only be one $SAME."</div>
          </div>
        </div>

        <div class="section-title">Verify you're in the OG $SAME</div>
        <div class="card">
          <ul class="verify-list">
            <li>Check the <strong>contract address</strong> matches exactly:</li>
            <li class="mono" style="margin-left:12px;">
              4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C
            </li>
            <li>If the ticker is <strong>$SAME</strong> but the CA is different, it's a clone.</li>
            <li>Same art + different contract = <strong>vamp</strong>, not OG.</li>
            <li>
              Always verify on
              <a href="https://solscan.io/token/4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C" target="_blank" rel="noopener noreferrer">Solscan</a>
              or
              <a href="https://birdeye.so/token/4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C?chain=solana" target="_blank" rel="noopener noreferrer">Birdeye</a>.
            </li>
          </ul>
        </div>

        <div class="section-title">Security & transparency</div>
        <div class="card">
          <div class="security-grid">
            <div class="security-card">
              <strong>Contract visibility</strong><br />
              Original Pump.fun deployment. Always confirm the mint before you buy.
            </div>
            <div class="security-card">
              <strong>Independent tools</strong><br />
              Check live risk flags and token ownership on
              <a href="https://rugcheck.xyz/tokens/4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C" target="_blank" rel="noopener noreferrer">RugCheck</a>.
            </div>
            <div class="security-card">
              <strong>The OG token</strong><br />
              First SAME token on Solana. Everything else is a copy.
            </div>
          </div>
        </div>

        <div class="section-title">How to buy $SAME</div>
        <div class="card">
          <ol class="step-list">
            <li>Install a Solana wallet like Phantom or Solflare.</li>
            <li>Fund your wallet with SOL from an exchange (Coinbase, Binance, etc.).</li>
            <li>Open the official Pump.fun page for $SAME and connect your wallet.</li>
            <li>Enter how much SOL you want to swap into $SAME and confirm.</li>
            <li>Double-check the contract address and welcome to the OG $SAME community.</li>
          </ol>
        </div>
      </section>

      <!-- SCANNER -->
      <section class="section" id="scanner">
        <div class="card">
          <div class="scanner-header">
            <div class="scanner-heading">$SAME Scanner – help CT find the OG</div>
            <div class="scanner-sub">
              Paste any <strong>ticker symbol</strong>. We use DexScreener to find
              active Solana pairs, filter out low-liquidity / zero-volume junk,
              sort by first pair time and liquidity, and highlight the
              <strong>likely OG token</strong>.
            </div>
          </div>

          <form id="tickerForm">
            <div class="scanner-form-row">
              <input
                id="tickerInput"
                class="scanner-input"
                placeholder="Ex: SAME, PEPE, BONK…"
                autocomplete="off"
              />
              <button type="submit" class="btn btn-primary">Scan</button>
            </div>
          </form>

          <div id="scanStatus" class="scanner-status">Ready.</div>
          <div id="resultsContainer"></div>
        </div>
      </section>

      <!-- COMMUNITY -->
      <section class="section">
        <div class="community-card">
          <h3 style="font-size:18px;margin-bottom:8px;">Join the $SAME community</h3>
          <p style="font-size:13px;color:var(--txt-main);max-width:560px;margin:0 auto;">
            Share the scanner, compare OG vs vamps, and build a CT that always
            knows which bag is real.
          </p>
          <div class="community-buttons">
            <a
              href="https://x.com/i/communities/1989835044551119209"
              target="_blank"
              rel="noopener noreferrer"
              class="community-btn"
            >
              X Community
            </a>
            <a
              href="https://x.com/search?q=%24SAME%20pumpfun&src=typed_query"
              target="_blank"
              rel="noopener noreferrer"
              class="community-btn"
            >
              Search $SAME on X
            </a>
          </div>
        </div>
      </section>

      <footer>
        Built for $SAME • Open data • The OG always wins. Not financial advice. Do your own research.
      </footer>
    </div>
  </div>

  <!-- ========== SCRIPT: WALLET, STATS, SCANNER ========== -->
  <script>
    const walletButton = document.getElementById("walletButton");
    const walletButtonLabel = document.getElementById("walletButtonLabel");
    const walletStatus = document.getElementById("walletStatus");

    const samePriceEl = document.getElementById("samePrice");
    const sameMcEl = document.getElementById("sameMc");
    const sameLiqEl = document.getElementById("sameLiq");
    const sameVolEl = document.getElementById("sameVol");
    const sameStatsFoot = document.getElementById("sameStatsFoot");

    const tickerForm = document.getElementById("tickerForm");
    const tickerInput = document.getElementById("tickerInput");
    const scanStatus = document.getElementById("scanStatus");
    const resultsContainer = document.getElementById("resultsContainer");

    const SAME_CA = "4nBQGUjd3oRSEQCkbRuBVsz1QA2XuJuXJwPWvG5C";
    const MIN_LIQ_USD = 500;
    const MIN_VOL_24H = 500;

    /* ===== Wallet handling ===== */
    const hasSolana = window.solana && (window.solana.isPhantom || window.solana.isSolflare);

    if (hasSolana) {
      walletStatus.textContent = "Wallet ready.";
      walletButtonLabel.textContent = "Connect Wallet";
    } else {
      walletStatus.textContent = "Optional: install Phantom / Solflare to connect.";
      walletButtonLabel.textContent = "Get Wallet";
    }

    walletButton.onclick = async () => {
      if (!hasSolana) {
        window.open("https://phantom.app/", "_blank");
        return;
      }
      try {
        walletStatus.textContent = "Requesting connection…";
        const resp = await window.solana.connect();
        const pk = resp.publicKey.toString();
        walletStatus.textContent = "Connected: " + pk.slice(0,4) + "…" + pk.slice(-4);
        walletButtonLabel.textContent = "Connected";
      } catch {
        walletStatus.textContent = "Connection cancelled.";
      }
    };

    /* ===== Utility formatting ===== */
    const fUSD = (n) => {
      if (n === undefined || n === null) return "–";
      if (n < 1) return "$" + n.toFixed(4);
      if (n < 1000) return "$" + n.toFixed(2);
      if (n < 1_000_000) return "$" + (n / 1000).toFixed(1) + "k";
      return "$" + (n / 1_000_000).toFixed(1) + "m";
    };

    const timeAgo = (ts) => {
      const diff = Date.now() - ts;
      const s = Math.floor(diff / 1000);
      if (s < 60) return `${s}s ago`;
      const m = Math.floor(s / 60);
      if (m < 60) return `${m}m ago`;
      const h = Math.floor(m / 60);
      if (h < 48) return `${h}h ago`;
      const d = Math.floor(h / 24);
      return `${d}d ago`;
    };

    /* ===== Live stats via DexScreener token endpoint ===== */
    async function loadSameStats() {
      try {
        const url = `https://api.dexscreener.com/tokens/v1/solana/${SAME_CA}`;
        const res = await fetch(url);
        if (!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();

        const entry = Array.isArray(data) ? data[0] : null;
        if (!entry || !entry.pairs || !entry.pairs.length) {
          sameStatsFoot.textContent =
            "No live pair data found yet. Stats will appear once $SAME is live on a supported DEX.";
          return;
        }

        const best = entry.pairs.reduce((acc, p) => {
          const l = p.liquidity?.usd || 0;
          if (!acc) return p;
          const la = acc.liquidity?.usd || 0;
          return l > la ? p : acc;
        }, null);

        const price = best?.priceUsd ? Number(best.priceUsd) : null;
        const fdv   = typeof best?.fdv === "number" ? best.fdv : null;
        const mc    = typeof best?.marketCap === "number" ? best.marketCap : null;
        const liq   = best?.liquidity?.usd ?? null;
        const vol24 = best?.volume?.h24 ?? null;
        const ts    = best?.pairCreatedAt ?? Date.now();

        samePriceEl.textContent = fUSD(price);
        sameMcEl.textContent    = fdv !== null ? fUSD(fdv) : fUSD(mc);
        sameLiqEl.textContent   = fUSD(liq);
        sameVolEl.textContent   = fUSD(vol24);
        sameStatsFoot.textContent =
          `Data from DexScreener • Pair live since ${new Date(ts).toLocaleDateString()} (${timeAgo(ts)})`;
      } catch {
        sameStatsFoot.textContent = "Unable to load live stats right now. Try again shortly.";
      }
    }

    loadSameStats();

    /* ===== Scanner (DexScreener search endpoint) ===== */
    tickerForm.addEventListener("submit", async (e) => {
      e.preventDefault();

      const raw = tickerInput.value.trim().toUpperCase().replace(/[^A-Z0-9]/g, "");
      if (!raw) {
        scanStatus.textContent = "Enter a ticker (e.g., SAME, PEPE, BONK).";
        resultsContainer.innerHTML = "";
        return;
      }

      scanStatus.textContent = `Scanning DexScreener for $${raw} on Solana…`;
      resultsContainer.innerHTML = "";

      try {
        const url = `https://api.dexscreener.com/latest/dex/search?q=${encodeURIComponent(raw)}`;
        const res = await fetch(url);
        if (!res.ok) throw new Error("HTTP " + res.status);
        const data = await res.json();
        const pairs = Array.isArray(data.pairs) ? data.pairs : [];

        const matches = pairs.filter(p =>
          p.chainId === "solana" &&
          p.baseToken &&
          typeof p.baseToken.symbol === "string" &&
          p.baseToken.symbol.toUpperCase() === raw
        );

        const filtered = matches.filter(p => {
          const liq = p.liquidity?.usd || 0;
          const vol = p.volume?.h24 || 0;
          return liq >= MIN_LIQ_USD && vol >= MIN_VOL_24H;
        });

        if (!filtered.length) {
          scanStatus.textContent =
            `No active Solana pairs using $${raw} above the liquidity/volume filters.`;
          resultsContainer.innerHTML = "";
          return;
        }

        const byToken = new Map();
        for (const p of filtered) {
          const addr = p.baseToken.address;
          const createdAt = p.pairCreatedAt || 0;
          const liq = p.liquidity?.usd || 0;
          const mc  = typeof p.fdv === "number"
                        ? p.fdv
                        : (typeof p.marketCap === "number" ? p.marketCap : null);

          const existing = byToken.get(addr);
          if (!existing) {
            byToken.set(addr, {
              tokenAddress: addr,
              name: p.baseToken.name,
              symbol: p.baseToken.symbol,
              earliest: createdAt,
              bestLiq: liq,
              bestMc: mc,
              url: p.url
            });
          } else {
            if (createdAt && (!existing.earliest || createdAt < existing.earliest)) {
              existing.earliest = createdAt;
              existing.url = p.url;
            }
            if (liq > existing.bestLiq) existing.bestLiq = liq;
            if (mc !== null && (existing.bestMc === null || mc > existing.bestMc)) {
              existing.bestMc = mc;
            }
          }
        }

        const tokens = Array.from(byToken.values()).sort(
          (a, b) => (a.earliest || 0) - (b.earliest || 0)
        );

        const total = tokens.length;
        const clones = Math.max(0, total - 1);
        scanStatus.textContent =
          `Found ${total} active token${total > 1 ? "s" : ""} using $${raw} on Solana. ` +
          `First row is the earliest, highest-liquidity candidate for the OG – always confirm the CA.`;

        let html = '<div class="results-table-wrapper"><table><thead><tr>' +
          '<th>#</th><th>Token</th><th>CA</th><th>First pair</th>' +
          '<th>Liquidity</th><th>MC (FDV)</th><th>Links</th>' +
          '</tr></thead><tbody>';

        tokens.forEach((t, i) => {
          const isOg = i === 0;
          const birdeyeUrl = `https://birdeye.so/token/${t.tokenAddress}?chain=solana`;
          const solscanUrl = `https://solscan.io/token/${t.tokenAddress}`;
          const dsUrl = t.url || "#";

          html += "<tr>";
          html += `<td>${i + 1}${isOg ? '<span class="og-pill">OG</span>' : ""}</td>`;
          html += `<td>${t.name || "Unknown"}<br /><span style="font-size:11px;color:var(--txt-muted);">$${t.symbol || ""}</span></td>`;
          html += `<td class="mono" style="max-width:220px;">${t.tokenAddress}</td>`;
          html += `<td>${t.earliest ? new Date(t.earliest).toLocaleString() : "–"}</td>`;
          html += `<td>${fUSD(t.bestLiq)}</td>`;
          html += `<td>${t.bestMc !== null ? fUSD(t.bestMc) : "–"}</td>`;
          html += `<td>
                     <a class="link-small" href="${dsUrl}" target="_blank">Chart</a><br/>
                     <a class="link-small" href="${solscanUrl}" target="_blank">Solscan</a><br/>
                     <a class="link-small" href="${birdeyeUrl}" target="_blank">Birdeye</a>
                   </td>`;
          html += "</tr>";
        });

        html += "</tbody></table></div>";
        html += `<div style="font-size:11px;color:var(--txt-muted);margin-top:6px;">
                  ${clones > 0
                    ? `${clones} clone${clones > 1 ? "s" : ""} detected above filters. Always double-check the CA before you ape.`
                    : "No clones detected above filters. Ticker looks clean – for now."
                  }
                 </div>`;

        resultsContainer.innerHTML = html;
      } catch {
        scanStatus.textContent = "Error talking to DexScreener API. Try again shortly.";
        resultsContainer.innerHTML = "";
      }
    });
  </script>
</body>
</html>
